#!/bin/sh
# turn a video into a gif
#
# deps:
#  - ffmpeg
#  - gifsicle
#
# charlie (c) 2015

if [ -z "$1" ]; then
    echo "usage: `basename $0` moviefile"
    exit
fi

FILE=$1
eval $(slop)
ffmpeg -video_size $Wx$H -f x11grab -framerate 25 -video_size cif -i :0.0+$X,$Y /tmp/$FILE.gif
gifsicle --delay=3 --optimize=3 /tmp/$FILE.gif > $FILE.gif
